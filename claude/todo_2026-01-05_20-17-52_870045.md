# Todo List: Phase 1.1 - Bulk Data Loading (Foundation for Agentic Capabilities)

**Generated**: 2026-01-05 20:17:52 America/Toronto
**Task Summary**: Implement efficient bulk data loading to enable Claude to access entire project contexts

## Context

This implements Phase 1.1 from ROADMAP.md, which is CRITICAL for agentic capabilities.

**Goal**: Enable Claude to load complete project data efficiently instead of manual pagination (currently 20 items at a time).

**Why This Matters**: Without bulk loading, Claude cannot "see the big picture" or perform strategic analysis. This is the foundation for all subsequent phases.

## Tasks

### 1. Type Definitions for Bulk Operations

- [ ] Add `BulkLoadOptions` interface
  - File(s): `src/types.ts`
  - Complexity: simple
  - Dependencies: none
  - Details: Options for controlling bulk loading (max items, include embedded data, etc.)

- [ ] Add `ProjectOverview` interface
  - File(s): `src/types.ts`
  - Complexity: moderate
  - Dependencies: Task 1
  - Details: Comprehensive project data structure including work packages, statistics, metadata

### 2. Bulk Loading Helper Functions

- [ ] Add `fetchAllPages` helper function
  - File(s): `src/openproject-client.ts`
  - Complexity: moderate
  - Dependencies: none
  - Details: Generic pagination helper that fetches all pages of a collection

### 3. Enhanced Work Package Loading

- [ ] Add `getAllWorkPackagesInProject` method
  - File(s): `src/openproject-client.ts`
  - Complexity: moderate
  - Dependencies: Task 2
  - Details: Automatically paginate through all work packages in a project with embedded data

- [ ] Add `get_all_work_packages_in_project` MCP tool
  - File(s): `src/index.ts`
  - Complexity: simple
  - Dependencies: Task 3
  - Details: Expose bulk loading to Claude via MCP tool

### 4. Project Overview Tool

- [ ] Add `getProjectOverview` method
  - File(s): `src/openproject-client.ts`
  - Complexity: complex
  - Dependencies: Tasks 1, 2, 3
  - Details: Single call to load project + all work packages + basic statistics

- [ ] Add `get_project_overview` MCP tool
  - File(s): `src/index.ts`
  - Complexity: simple
  - Dependencies: Task 4
  - Details: Expose comprehensive project overview to Claude

### 5. Increase Page Size Limits

- [ ] Update `listWorkPackages` to support up to 100 items per page
  - File(s): `src/openproject-client.ts`
  - Complexity: simple
  - Dependencies: none
  - Details: Reduce number of API calls needed

- [ ] Update all other list methods for larger page sizes
  - File(s): `src/openproject-client.ts`
  - Complexity: simple
  - Dependencies: Task 5a
  - Details: Apply to projects, users, time entries, etc.

### 6. Documentation Updates

- [ ] Update README.md with new bulk loading tools
  - File(s): `README.md`
  - Complexity: simple
  - Dependencies: All previous tasks
  - Details: Document get_all_work_packages_in_project and get_project_overview

- [ ] Add usage examples for bulk operations
  - File(s): `README.md`
  - Complexity: simple
  - Dependencies: Task 6a
  - Details: Show how Claude can now analyze entire projects

### 7. Testing & Verification

- [ ] Test bulk loading with small project (< 50 work packages)
  - File(s): N/A (manual testing)
  - Complexity: simple
  - Dependencies: Tasks 3, 4, 5
  - Details: Verify correctness and performance

- [ ] Test bulk loading with medium project (100-200 work packages)
  - File(s): N/A (manual testing)
  - Complexity: moderate
  - Dependencies: Task 7a
  - Details: Verify performance and memory usage

- [ ] Test error handling for large datasets
  - File(s): N/A (manual testing)
  - Complexity: moderate
  - Dependencies: Task 7b
  - Details: Ensure graceful handling of API limits

## Verification

- [ ] Build succeeds without TypeScript errors
- [ ] All new tools appear in MCP tool list
- [ ] Can load 100+ work packages in single call
- [ ] Memory usage remains acceptable
- [ ] Error messages are clear and helpful
- [ ] Documentation is complete and accurate

## Notes

**Performance Considerations**:
- OpenProject API may have rate limits - need to handle gracefully
- Large projects (500+ work packages) may require streaming or chunking
- Consider adding progress indicators for long operations

**Future Enhancements** (not in this phase):
- Caching layer to avoid repeated loads
- Incremental updates (only fetch changed items)
- Streaming responses for very large datasets

**API Endpoints to Use**:
- `/api/v3/projects/{id}/work_packages` - Get all work packages for a project
- Use `pageSize=100` and `offset` parameters for pagination
- Request embedded data with proper query parameters

**Success Criteria**:
When complete, Claude should be able to:
- Load entire project context in one tool call
- Analyze all work packages without manual pagination
- Get comprehensive project overview with statistics
- Foundation ready for Phase 1.2 (relationships) and Phase 3 (analytics)
